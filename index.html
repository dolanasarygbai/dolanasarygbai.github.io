<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>–ì–µ–Ω–µ–∞–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –¥—Ä–µ–≤–æ ¬∑ 6 –ø–æ–∫–æ–ª–µ–Ω–∏–π ¬∑ —Å –ª–∏–Ω–∏—è–º–∏</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: #0a0c12;
            font-family: 'Segoe UI', 'Roboto', sans-serif;
            color: #eef3fc;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
        }

        .scroll-container {
            width: 100%;
            height: 100vh;
            overflow: auto;
            position: relative;
            background: radial-gradient(circle at 30% 30%, #17212b, #020304);
            scroll-behavior: smooth;
        }

        .tree-wrapper {
            min-width: 2800px;        /* —à–∏—Ä–æ–∫–∏–π –≥–æ—Ä–∏–∑–æ–Ω—Ç –¥–ª—è –±—Ä–∞—Ç—å–µ–≤ */
            min-height: 2000px;
            padding: 60px 100px;
            position: relative;
        }

        /* SVG –ü–û–õ–û–¢–ù–û –ü–û–í–ï–†–• –í–°–ï–ì–û */
        .connector-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;              /* –ª–∏–Ω–∏–∏ –≤–∏–¥–Ω—ã, –Ω–æ –Ω–µ –º–µ—à–∞—é—Ç –∫–ª–∏–∫–∞–º */
        }

        .connector-svg path {
            stroke-width: 3px;
            fill: none;
            stroke-linecap: round;
            transition: stroke 0.2s, filter 0.2s;
        }

        /* —Ü–≤–µ—Ç–∞ –ª–∏–Ω–∏–π: –æ—Ç –æ—Ç—Ü–∞, –æ—Ç –º–∞—Ç–µ—Ä–∏ (—Å–º–µ—à–∞–Ω–Ω—ã–µ) */
        .connector-svg .paternal-line-path {
            stroke: #3b82f6;
            stroke-opacity: 0.7;
        }
        .connector-svg .maternal-line-path {
            stroke: #c77dff;
            stroke-opacity: 0.7;
        }
        .connector-svg .highlight-path {
            stroke: #ffd966 !important;
            filter: drop-shadow(0 0 12px gold);
            stroke-width: 5px !important;
            transition: 0.1s;
        }

        /* –ö–ê–†–¢–û–ß–ö–ò */
        .generation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 130px;
            position: relative;
            z-index: 30;
            flex-wrap: nowrap;
            width: 100%;
        }

        .gen-row {
            display: flex;
            flex-wrap: nowrap;
            gap: 50px;
            justify-content: flex-start;
            position: relative;
        }

        .person-card {
            min-width: 200px;
            max-width: 240px;
            background: #1e2a36;
            border-radius: 24px;
            padding: 16px 12px 12px 12px;
            box-shadow: 0 20px 30px rgba(0,0,0,0.9), 0 0 0 2px rgba(120,180,255,0.2);
            text-align: center;
            font-size: 0.95rem;
            transition: all 0.15s;
            cursor: pointer;
            border-left: 6px solid;
            border-right: 6px solid;
            color: #f0f5ff;
            position: relative;
            z-index: 50;
            backdrop-filter: blur(3px);
        }

        .paternal-line {
            border-left-color: #3b82f6;
            border-right-color: #3b82f6;
            box-shadow: 0 0 15px #3b82f6, 0 8px 15px black;
        }
        .maternal-line {
            border-left-color: #c77dff;
            border-right-color: #c77dff;
            box-shadow: 0 0 15px #c77dff, 0 8px 15px black;
        }

        .person-card:hover {
            transform: scale(1.02);
            background: #2b3b4b;
        }

        .person-card.selected {
            border: 4px solid #ffd966;
            background: #2f4255;
            box-shadow: 0 0 30px gold;
        }

        .name {
            font-weight: 800;
            font-size: 1.2rem;
            background: rgba(0,0,0,0.4);
            border-radius: 40px;
            padding: 4px 0;
            margin-bottom: 5px;
            color: white;
        }

        .years {
            font-size: 0.85rem;
            color: #b2c9e5;
        }

        /* –ø–æ–∫–æ–ª–µ–Ω–∏–µ 1 */
        .gen1 {
            margin-bottom: 120px;
        }
        .paternal-group {
            display: flex;
            gap: 40px;
            width: 45%;
        }
        .maternal-group {
            display: flex;
            gap: 40px;
            justify-content: flex-end;
            width: 45%;
        }
        .split-center {
            width: 10%;
            color: #6d8eb0;
            font-weight: 300;
        }

        /* –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å */
        .info-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 360px;
            max-width: 92vw;
            max-height: 90vh;
            overflow-y: auto;
            background: #111c28;
            border-radius: 36px;
            padding: 25px;
            box-shadow: -10px 10px 40px black, 0 0 0 2px #3b5e8b;
            z-index: 2000;
            backdrop-filter: blur(12px);
            border: 1px solid #5a7d9c;
            color: #eaf0fc;
            font-size: 0.9rem;
        }

        .info-panel h2 {
            border-bottom: 3px solid #ab7ef0;
            padding-bottom: 12px;
            margin-bottom: 20px;
            font-weight: 400;
            letter-spacing: 2px;
            color: #dbe6ff;
        }

        .info-photo {
            width: 100%;
            border-radius: 24px;
            margin-bottom: 20px;
            border: 4px solid #2b4a6b;
            background: #203241;
            min-height: 160px;
            object-fit: cover;
        }

        .info-detail {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 12px 6px;
            margin-top: 20px;
        }
        .info-detail .label {
            font-weight: 800;
            color: #b8d1ff;
            text-align: right;
            border-right: 2px solid #7a58b1;
            padding-right: 8px;
        }
        .info-detail .value {
            text-align: left;
        }

        .footnote {
            margin-top: 25px;
            background: #19232e;
            padding: 14px;
            border-radius: 24px;
            border-left: 8px solid #d4a373;
            font-size: 0.8rem;
        }

        @media (max-width: 700px) {
            .info-panel {
                width: 95%;
                right: 2.5%;
                top: auto;
                bottom: 10px;
                max-height: 45vh;
            }
            .person-card {
                min-width: 150px;
            }
        }
    </style>
</head>
<body>
<div class="scroll-container" id="scrollContainer">
    <div class="tree-wrapper" id="treeWrapper">
        <!-- –ü–û–õ–û–¢–ù–û –î–õ–Ø –õ–ò–ù–ò–ô (–°–¢–†–ï–õ–û–ö) -->
        <svg class="connector-svg" id="lineSvg"></svg>

        <!-- –ü–û–ö–û–õ–ï–ù–ò–ï 1 (–ø—Ä–∞–¥–µ–¥—ã) -->
        <div class="generation gen1" id="gen1">
            <div class="paternal-group">
                <div class="person-card paternal-line" data-id="yaar" data-side="paternal"><div class="name">–ß–æ–æ–¥—É –Ø–∞—Ä –°—É–ª–µ–ø–µ–π</div><div class="years">~1860 –≥.</div><div class="relation-badge">–ø—Ä–∞–¥–µ–¥ (–æ—Ç—Ü–∞)</div></div>
                <div class="person-card paternal-line" data-id="sevil" data-side="paternal"><div class="name">–ß–æ–æ–¥—É –°–µ–≤–∏–ª –ë–∞–ª—á—ã–º–∞</div><div class="years">~1865 –≥.</div><div class="relation-badge">–ø—Ä–∞–±–∞–±—É—à–∫–∞ (–æ—Ç—Ü–∞)</div></div>
                <div class="person-card paternal-line" data-id="chambal" data-side="paternal"><div class="name">–ß–æ–æ–¥—É –ß–∏–≥–∂–∏—Ç –ß–∞–º–±–∞–ª</div><div class="years">~1865 –≥.</div><div class="relation-badge">–ø—Ä–∞–¥–µ–¥ (–æ—Ç—Ü–∞)</div></div>
                <div class="person-card paternal-line" data-id="sagaan" data-side="paternal"><div class="name">–ß–æ–æ–¥—É –°–µ–¥–∏–ø –°–∞–≥–∞–∞–Ω</div><div class="years">~1870 –≥.</div><div class="relation-badge">–ø—Ä–∞–±–∞–±—É—à–∫–∞ (–æ—Ç—Ü–∞)</div></div>
            </div>
            <div class="split-center">‚∏ª —Ä–∞–∑—Ä—ã–≤ ‚∏ª</div>
            <div class="maternal-group">
                <div class="person-card maternal-line" data-id="dolzat" data-side="maternal"><div class="name">–ß–æ–æ–¥—É –î–æ–ª–∑–∞—Ç –ß–∞–º—ã—è–Ω</div><div class="years">~1868 –≥.</div><div class="relation-badge">–ø—Ä–∞–±–∞–±—É—à–∫–∞ (–º–∞—Ç–µ—Ä–∏)</div></div>
                <div class="person-card maternal-line" data-id="danzyn" data-side="maternal"><div class="name">–ß–æ–æ–¥—É –î–∞–Ω–∑—ã–Ω –ß–∏–≥–∂–∏—Ç</div><div class="years">~1863 –≥.</div><div class="relation-badge">–ø—Ä–∞–¥–µ–¥ (–º–∞—Ç–µ—Ä–∏)</div></div>
            </div>
        </div>

        <!-- –ü–û–ö–û–õ–ï–ù–ò–ï 2 -->
        <div class="generation gen2" id="gen2">
            <div class="gen-row">
                <div class="person-card paternal-line" data-id="dozum" data-side="paternal"><div class="name">–î–æ–ø—É—É –î–æ–∑—É–º</div><div class="years">3.08.1894 –≥.</div><div class="relation-badge">–±–∞–±—É—à–∫–∞ –ø–æ –æ—Ç—Ü—É</div></div>
                <div class="person-card paternal-line" data-id="sirzhim" data-side="paternal"><div class="name">–î–æ–ª–≥–∞—Ä –°–∏—Ä–∂–∏–º</div><div class="years">10.05.1899 –≥.</div><div class="relation-badge">—Å–µ—Å—Ç—Ä–∞ –º–∞—Ç–µ—Ä–∏ –æ—Ç—Ü–∞</div></div>
                <div class="person-card paternal-line" data-id="monke" data-side="paternal"><div class="name">–ù–∞—á—ã–Ω –ú”©“£–∫–µ</div><div class="years">18.09.1890 –≥.</div><div class="relation-badge">–¥–µ–¥—É—à–∫–∞ –ø–æ –æ—Ç—Ü—É</div></div>
                <div class="person-card maternal-line" data-id="demchik" data-side="maternal"><div class="name">–ß–æ–æ–¥—É –î–µ–º—á–∏–∫–∫–µ–π</div><div class="years">15.09.1889 –≥.</div><div class="relation-badge">–¥–µ–¥—É—à–∫–∞ –ø–æ –º–∞—Ç–µ—Ä–∏</div></div>
                <div class="person-card maternal-line" data-id="azhyk" data-side="maternal"><div class="name">–ß–æ–æ–¥—É –ê–∂—ã–∫–∫–∞–π</div><div class="years">~1888 –≥.</div><div class="relation-badge">–±–∞–±—É—à–∫–∞ –ø–æ –º–∞—Ç–µ—Ä–∏</div></div>
            </div>
        </div>

        <!-- –ü–û–ö–û–õ–ï–ù–ò–ï 3 (—Ä–æ–¥–∏—Ç–µ–ª–∏, –±—Ä–∞—Ç—å—è, —Å–µ—Å—Ç—Ä—ã) -->
        <div class="generation gen3" id="gen3">
            <div class="gen-row">
                <!-- –æ—Ç–µ—Ü -->
                <div class="person-card paternal-line" data-id="manchalmaa"><div class="name">–ú–∞–Ω—á–∞–ª–º–∞–∞</div><div class="years">10.09.1918 –≥.</div></div>
                <div class="person-card paternal-line" data-id="sandan"><div class="name">–°–∞–Ω—á–∞—Ç –°–∞–Ω–¥–∞–Ω</div><div class="years">1.08.1920 –≥.</div></div>
                <div class="person-card paternal-line" data-id="sandal"><div class="name">–ù–∞—á—ã–Ω –°–∞“£–¥–∞–ª</div><div class="years">15.02.1924 –≥.</div></div>
                <div class="person-card paternal-line" data-id="sanmaa"><div class="name">–°–∞“£–º–∞–∞</div><div class="years">31.08.1931 –≥.</div></div>
                <div class="person-card paternal-line" data-id="tyvaa"><div class="name">–¢—ã–≤–∞–∞ –¢–æ—Ä–∂—É</div><div class="years">1.05.1930 –≥.</div></div>
                <div class="person-card paternal-line" data-id="chagarmaa"><div class="name">–ß–∞–≥–∞—Ä–º–∞–∞</div><div class="years">23.08.1936 –≥.</div></div>
                <!-- –º–∞—Ç—å –∏ –µ—ë –±—Ä–∞—Ç—å—è/—Å—ë—Å—Ç—Ä—ã (–ª–∏–ª–æ–≤—ã–µ) -->
                <div class="person-card maternal-line" data-id="okashtay"><div class="name">–°–∞–Ω—á–∞—Ç –û–∫–∞—à—Ç–∞–π</div><div class="years">1.03.1920 –≥.</div></div>
                <div class="person-card maternal-line" data-id="diimaa"><div class="name">–î–∏–∏–º–∞–∞</div><div class="years">8.03.1922 –≥.</div></div>
                <div class="person-card maternal-line" data-id="huurak"><div class="name">–•—É—É—Ä–∞–∫-–æ–æ–ª</div><div class="years">15.01.1923 –≥.</div></div>
            </div>
        </div>

        <!-- –ü–û–ö–û–õ–ï–ù–ò–ï 4 (—è, –±—Ä–∞—Ç—å—è, —Å–µ—Å—Ç—Ä—ã, –¥–µ—Ç–∏ –ú–∞–Ω—á–∞–ª–º–∞–∞) -->
        <div class="generation gen4" id="gen4">
            <div class="gen-row">
                <div class="person-card paternal-line" data-id="monge"><div class="name">–ú–æ–Ω–≥–∞–ª –ú”©–Ω–≥–µ</div><div class="years">30.04.1937 –≥.</div></div>
                <div class="person-card paternal-line" data-id="eliz"><div class="name">–ú–æ–Ω–≥–∞–ª –ï–ª–∏–∑–∞–≤–µ—Ç–∞</div><div class="years">30.04.1941 –≥.</div></div>
                <div class="person-card paternal-line" data-id="diizen"><div class="name">–î–∏–∏–∑–µ–Ω–º–∞–∞</div><div class="years">8.08.1944 –≥.</div></div>
                <div class="person-card paternal-line" data-id="viktor"><div class="name">–í–∏–∫—Ç–æ—Ä</div><div class="years">22.08.1939 –≥.</div></div>
                <div class="person-card paternal-line" data-id="suktar"><div class="name">–°—É–∫—Ç–∞—Ä-–æ–æ–ª</div><div class="years">14.09.1944 –≥.</div></div>
                <div class="person-card paternal-line" data-id="bolato"><div class="name">–ë–æ–ª–∞—Ç-–æ–æ–ª</div><div class="years">25.05.1947 –≥.</div></div>
                <div class="person-card paternal-line" data-id="kanool"><div class="name">–ö–∞–Ω-–æ–æ–ª</div><div class="years">19.10.1949 –≥.</div></div>
                <div class="person-card paternal-line" data-id="valia"><div class="name">–í–∞–ª–µ–Ω—Ç–∏–Ω–∞</div><div class="years">25.08.1951 –≥.</div></div>
                <div class="person-card paternal-line" data-id="boris"><div class="name">–ë–æ—Ä–∏—Å</div><div class="years">5.10.1953 –≥.</div></div>
                <div class="person-card paternal-line" data-id="vlad"><div class="name">–í–ª–∞–¥–∏–º–∏—Ä</div><div class="years">12.02.1956 –≥.</div></div>
                <div class="person-card paternal-line" data-id="alex" id="me"><div class="name">–ê–ª–µ–∫—Å–∞–Ω–¥—Ä</div><div class="years">6.06.1959 –≥.</div></div>
                <div class="person-card paternal-line" data-id="alexey"><div class="name">–ê–ª–µ–∫—Å–µ–π</div><div class="years">5.07.1961 –≥.</div></div>
                <div class="person-card paternal-line" data-id="olga"><div class="name">–û–ª—å–≥–∞</div><div class="years">25.08.1963 –≥.</div></div>
                <div class="person-card maternal-line" data-id="saida"><div class="name">–°–∞—Ä—ã–≥–±–∞–π –°–∞–∏–¥–∞</div><div class="years">10.12.1964 –≥.</div></div>
            </div>
        </div>

        <!-- –ü–û–ö–û–õ–ï–ù–ò–ï 5 -->
        <div class="generation gen5" id="gen5">
            <div class="gen-row">
                <div class="person-card maternal-line" data-id="dolana"><div class="name">–°–∞—Ä—ã–≥–±–∞–π –î–æ–ª–∞–Ω–∞</div><div class="years">23.09.1994 –≥.</div></div>
                <div class="person-card maternal-line" data-id="choig"><div class="name">–°–∞—Ä—ã–≥–±–∞–π –ß–æ–π–≥–∞–∞–Ω–∞</div><div class="years">10.11.1996 –≥.</div></div>
            </div>
        </div>

        <!-- –ü–û–ö–û–õ–ï–ù–ò–ï 6 -->
        <div class="generation gen6" id="gen6">
            <div class="gen-row">
                <div class="person-card maternal-line" data-id="victoria"><div class="name">–°–∞—Ä—ã–≥–±–∞–π –í–∏–∫—Ç–æ—Ä–∏—è</div><div class="years">~2018 –≥.</div></div>
            </div>
        </div>

        <div style="margin-top: 50px; background:#192734; padding: 20px; border-radius: 60px; max-width:700px;">
            ‚ö†Ô∏è <strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong> –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∏–º–µ–Ω –≤ –≤–∏–¥—É –ø–∞—Å–ø–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏, –æ—Ç–¥–∞–Ω –Ω–∞ –≤–æ—Å–ø–∏—Ç–∞–Ω–∏–µ, –ø–æ –ø–æ–≤–µ—Ä—å—è–º: —á—Ç–æ–±—ã –æ–±–º–∞–Ω—É—Ç—å —Å–º–µ—Ä—Ç—å, –±–æ–ª–µ–∑–Ω–∏.
        </div>
    </div>
</div>

<!-- –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
<div class="info-panel" id="infoPanel">
    <h2>üß¨ –∫–∞—Ä—Ç–æ—á–∫–∞</h2>
    <img id="infoPhoto" class="info-photo" src="https://via.placeholder.com/300x200/1a2f3a/ccc?text=–≤—ã–±–µ—Ä–∏—Ç–µ+—á–µ–ª–æ–≤–µ–∫–∞" alt="">
    <div id="infoContent"><p>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —á–µ–ª–æ–≤–µ–∫–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö</p></div>
    <div class="footnote" id="dynamicFootnote">–º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –≤ –∏–º–µ–Ω–∞—Ö</div>
</div>

<script>
    (function() {
        // ----- –î–ê–ù–ù–´–ï –î–õ–Ø –ö–ê–†–¢–û–ß–ï–ö (–∫—Ä–∞—Ç–∫–∏–µ, –Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ) -----
        const personDetails = {
            dozum: { name: '–î–æ–ø—É—É –î–æ–∑—É–º', photo: 'images/dopuu_dozum.jpg', full: '—Ä–æ–¥—Å—Ç–≤–æ: –º–æ—è –±–∞–±—É—à–∫–∞ –ø–æ –æ—Ç—Ü—É, –º–∞—Ç—å –º–æ–µ–≥–æ –æ—Ç—Ü–∞. –ø–æ–ª: –∂–µ–Ω. —Ä–æ–∂–¥. 3.08.1894 –≥. –æ—Ç–µ—Ü: –ß–æ–æ–¥—É –Ø–∞—Ä –°—É–ª–µ–ø–µ–π, –º–∞—Ç—å: –ß–æ–æ–¥—É –°–µ–≤–∏–ª –ë–∞–ª—á—ã–º–∞. –°–≤-–≤–æ –†–≠ ‚Ññ101142, –∑–∞–ø–∏—Å—å 144, –∫–Ω–∏–≥–∞ ‚Ññ1. –ú–µ—Å—Ç–æ: “Æ-–®—ã–Ω–∞–∞, –∞—Ä–±–∞–Ω ‚Ññ2.' },
            monke: { name: '–ù–∞—á—ã–Ω –ú”©“£–∫–µ', photo: 'images/nachyn_monke.jpg', full: '–¥–µ–¥—É—à–∫–∞ –ø–æ –æ—Ç—Ü—É. 18.09.1890 –≥. –°–≤-–≤–æ –†–≠ 101141. —Ä–æ–¥–∏—Ç–µ–ª–∏: –ß–æ–æ–¥—É –ß–∏–≥–∂–∏—Ç –ß–∞–º–±–∞–ª –∏ –ß–æ–æ–¥—É –°–µ–¥–∏–ø –°–∞–≥–∞–∞–Ω. “Æ-–®—ã–Ω–∞–∞, –∞—Ä–±–∞–Ω ‚Ññ2.' },
            demchik: { name: '–ß–æ–æ–¥—É –î–µ–º—á–∏–∫–∫–µ–π –î–∞–Ω–∑—ã–Ω', photo: 'images/demchikkey.jpg', full: '–æ—Ç–µ—Ü –º–∞—Ç–µ—Ä–∏. 15.09.1889 –≥., “Æ-–®—ã–Ω–∞–∞. –í –∑–∞–ø–∏—Å–∏ –¢–µ–º—á–∏–∫–µ–π –ß–∞–≤–∞–∞. –†–æ–¥ –∑–∞–Ω—è—Ç–∏–π: –ú–ß–ê–≠ ‚Äî –º–∞–ª, —á–µ—Ä –∞–∂—ã–ª-–∞–≥—ã–π —ç–≤–∏–ª–µ–ª–∏ (–∞—Ä–∞—Ç—Å–∫–æ–µ –∫—Ä–µ—Å—Ç—å—è–Ω—Å–∫–æ–µ —Ö–æ–∑-–≤–æ). –†–æ–¥–∏—Ç–µ–ª–∏: –î–æ–ª–∑–∞—Ç –ß–∞–º—ã—è–Ω –∏ –î–∞–Ω–∑—ã–Ω –ß–∏–≥–∂–∏—Ç.' },
            sandan: { name: '–°–∞–Ω—á–∞—Ç –°–∞–Ω–¥–∞–Ω –ù–∞—á—ã–Ω–æ–≤–∏—á', photo: 'images/sanchat_sandan.jpg', full: '–º–æ–π –æ—Ç–µ—Ü. 1.08.1920 –≥., “Æ-–®—ã–Ω–∞–∞. —Ä–æ–¥–∏—Ç–µ–ª–∏: –ù–∞—á—ã–Ω –ú”©“£–∫–µ –∏ –î–æ–ø—É—É –î–æ–∑—É–º. –°–≤-–≤–æ –†–≠‚Ññ101228, –∑–∞–ø–∏—Å—å ‚Ññ65, –ú–ß–ê–≠ 10 –¥—É–≥–∞–∞—Ä.' },
            okashtay: { name: '–°–∞–Ω—á–∞—Ç –û–∫–∞—à—Ç–∞–π –î–µ–º—á–∏–∫–µ–π–æ–≤–Ω–∞', photo: 'images/okashtay.jpg', full: '–º–æ—è –º–∞—Ç—å. 1.03.1920 –≥., “Æ-–®—ã–Ω–∞–∞. —Ä–æ–¥–∏—Ç–µ–ª–∏: –î–µ–º—á–∏–∫–∫–µ–π –î–∞–Ω–∑—ã–Ω –∏ –ê–∂—ã–∫–∫–∞–π –£–∑—É–Ω. –î–µ–≤–∏—á—å—è: –ß–æ–æ–¥—É –û–∫–∫–∞—à—Ç–∞–π.' },
            alex: { name: '–°–∞–Ω—á–∞—Ç –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –°–∞–Ω–¥–∞–Ω–æ–≤–∏—á', photo: 'images/alexander.jpg', full: '—è. 06.06.1959 –°–∞–º–∞–≥–∞–ª—Ç–∞–π. –≤—ã—Å—à–µ–µ –ö–§–ö–ü–ò, –≥–æ—Å—Å–ª—É–∂–∞—â–∏–π, –∏–Ω–∂–µ–Ω–µ—Ä-—Å—Ç—Ä–æ–∏—Ç–µ–ª—å. –†–ê–ì–°, –º–µ–Ω–µ–¥–∂–µ—Ä-—ç–∫–æ–Ω–æ–º–∏—Å—Ç.' },
            saida: { name: '–°–∞—Ä—ã–≥–±–∞–π –°–∞–∏–¥–∞ –ö–µ—á–∏–ª-–æ–æ–ª–æ–≤–Ω–∞', photo: 'images/saida.jpg', full: '–¥–æ—á—å –°–∞“£–º–∞–∞, 10.12.1964' }
        };
        function showPerson(id) {
            const data = personDetails[id] || { name: '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —É—Ç–æ—á–Ω—è–µ—Ç—Å—è', photo: '', full: '–ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã' };
            document.getElementById('infoPhoto').src = data.photo || 'https://via.placeholder.com/300x200/1e2f3c/b0c4de?text=—Ñ–æ—Ç–æ+github';
            document.getElementById('infoContent').innerHTML = `<div class="info-detail"><span class="label">–ò–º—è</span><span class="value">${data.name}</span><span class="label">–î–µ—Ç–∞–ª–∏</span><span class="value">${data.full}</span></div>`;
        }

        // –∫–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ
        document.querySelectorAll('.person-card').forEach(card => {
            card.addEventListener('click', (e) => {
                e.stopPropagation();
                document.querySelectorAll('.person-card').forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
                if (card.dataset.id) showPerson(card.dataset.id);
                // –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –ª–∏–Ω–∏–π (—á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å –Ω–∞ svg –ø—É—Ç—è–º)
                document.querySelectorAll('#lineSvg path').forEach(p => p.classList.remove('highlight-path'));
                // –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –ø–æ–¥—Å–≤–µ—Ç–∏–º –≤—Å–µ –ª–∏–Ω–∏–∏, –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –≤—ã–±–æ—Ä–∞
                document.querySelectorAll('#lineSvg path').forEach(p => p.classList.add('highlight-path'));
                setTimeout(() => document.querySelectorAll('#lineSvg path').forEach(p => p.classList.remove('highlight-path')), 700);
            });
        });

        // ----- –û–¢–†–ò–°–û–í–ö–ê –õ–ò–ù–ò–ô –ú–ï–ñ–î–£ –ü–û–ö–û–õ–ï–ù–ò–Ø–ú–ò -----
        function drawConnections() {
            const svg = document.getElementById('lineSvg');
            svg.innerHTML = ''; // –æ—á–∏—â–∞–µ–º

            // –°–≤—è–∑–∏: —Ä–æ–¥–∏—Ç–µ–ª—å -> –ø–æ—Ç–æ–º–æ–∫. –û–ø—Ä–µ–¥–µ–ª–∏–º –ø–∞—Ä—ã –ø–æ data-id (—Ä–æ–¥–∏—Ç–µ–ª—å, –¥–∏—Ç—è)
            // –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –ª—É—á—à–µ –∑–∞–¥–∞—Ç—å –º–∞—Å—Å–∏–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π, –∑–¥–µ—Å—å –ø—Ä–æ–ø–∏—à–µ–º –∫–ª—é—á–µ–≤—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏.
            const pairs = [
                // 1->2 –ø–æ–∫–æ–ª–µ–Ω–∏–µ (—Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –æ—Ç—Ü–∞)
                { from: 'yaar', to: 'dozum' },    // –Ø–∞—Ä -> –î–æ–∑—É–º
                { from: 'sevil', to: 'dozum' },   // –°–µ–≤–∏–ª -> –î–æ–∑—É–º
                { from: 'yaar', to: 'sirzhim' },  // –Ø–∞—Ä -> –°–∏—Ä–∂–∏–º
                { from: 'sevil', to: 'sirzhim' },
                { from: 'chambal', to: 'monke' }, // –ß–∞–º–±–∞–ª -> –ú”©“£–∫–µ
                { from: 'sagaan', to: 'monke' },
                // —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –º–∞—Ç–µ—Ä–∏
                { from: 'dolzat', to: 'demchik' },
                { from: 'danzyn', to: 'demchik' },
                { from: 'dolzat', to: 'azhyk' },  // –î–æ–ª–∑–∞—Ç -> –ê–∂—ã–∫–∫–∞–π? (–ø–æ –ª–æ–≥–∏–∫–µ –º–∞—Ç—å)
                { from: 'danzyn', to: 'azhyk' },

                // 2->3 –ø–æ–∫–æ–ª–µ–Ω–∏–µ
                { from: 'dozum', to: 'sandan' },  // –î–æ–∑—É–º -> –°–∞–Ω–¥–∞–Ω
                { from: 'monke', to: 'sandan' },  // –ú”©“£–∫–µ -> –°–∞–Ω–¥–∞–Ω
                { from: 'dozum', to: 'manchalmaa' },
                { from: 'monke', to: 'manchalmaa' },
                { from: 'dozum', to: 'sandal' },
                { from: 'monke', to: 'sandal' },
                { from: 'dozum', to: 'sanmaa' },
                { from: 'monke', to: 'sanmaa' },
                { from: 'demchik', to: 'okashtay' }, // –î–µ–º—á–∏–∫ -> –º–∞—Ç—å
                { from: 'azhyk', to: 'okashtay' },
                { from: 'demchik', to: 'diimaa' },
                { from: 'azhyk', to: 'diimaa' },
                { from: 'demchik', to: 'huurak' },
                { from: 'azhyk', to: 'huurak' },

                // 3->4 –ø–æ–∫–æ–ª–µ–Ω–∏–µ (–æ—Ç –°–∞–Ω–¥–∞–Ω–∞ –∏ –û–∫–∞—à—Ç–∞–π –∫ –¥–µ—Ç—è–º)
                { from: 'sandan', to: 'viktor' }, { from: 'okashtay', to: 'viktor' },
                { from: 'sandan', to: 'suktar' }, { from: 'okashtay', to: 'suktar' },
                { from: 'sandan', to: 'bolato' }, { from: 'okashtay', to: 'bolato' },
                { from: 'sandan', to: 'kanool' }, { from: 'okashtay', to: 'kanool' },
                { from: 'sandan', to: 'valia' }, { from: 'okashtay', to: 'valia' },
                { from: 'sandan', to: 'boris' }, { from: 'okashtay', to: 'boris' },
                { from: 'sandan', to: 'vlad' }, { from: 'okashtay', to: 'vlad' },
                { from: 'sandan', to: 'alex' }, { from: 'okashtay', to: 'alex' },
                { from: 'sandan', to: 'alexey' }, { from: 'okashtay', to: 'alexey' },
                { from: 'sandan', to: 'olga' }, { from: 'okashtay', to: 'olga' },
                // –æ—Ç –ú–∞–Ω—á–∞–ª–º–∞–∞ –∫ –µ—ë –¥–µ—Ç—è–º
                { from: 'manchalmaa', to: 'monge' },
                { from: 'manchalmaa', to: 'eliz' },
                { from: 'manchalmaa', to: 'diizen' },
                // –æ—Ç –°–∞“£–º–∞–∞ –∫ –°–∞–∏–¥–µ (—á–µ—Ä–µ–∑ –º–Ω–æ–≥–æ, –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏)
                { from: 'sanmaa', to: 'saida' },
                // 4->5 –ø–æ–∫–æ–ª–µ–Ω–∏–µ –æ—Ç –°–∞–∏–¥—ã
                { from: 'saida', to: 'dolana' },
                { from: 'saida', to: 'choig' },
                // 5->6
                { from: 'choig', to: 'victoria' }
            ];

            function getElementCenter(id) {
                const el = document.querySelector(`[data-id="${id}"]`);
                if (!el) return null;
                const rect = el.getBoundingClientRect();
                const wrapperRect = document.getElementById('treeWrapper').getBoundingClientRect();
                // –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ wrapper (—Ç–∞–∫ –∫–∞–∫ svg –Ω–∞–ª–æ–∂–µ–Ω –∞–±—Å–æ–ª—é—Ç–Ω–æ)
                return {
                    x: rect.left - wrapperRect.left + rect.width / 2,
                    y: rect.top - wrapperRect.top + rect.height / 2
                };
            }

            pairs.forEach(p => {
                const fromPt = getElementCenter(p.from);
                const toPt = getElementCenter(p.to);
                if (!fromPt || !toPt) return;

                // –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–≤–µ—Ç –ª–∏–Ω–∏–∏ –ø–æ —Ä–æ–¥–∏—Ç–µ–ª—é (paternal –∏–ª–∏ maternal)
                const fromCard = document.querySelector(`[data-id="${p.from}"]`);
                let lineClass = 'paternal-line-path';
                if (fromCard && fromCard.classList.contains('maternal-line')) lineClass = 'maternal-line-path';

                const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                // –∫—Ä–∏–≤–∞—è –ë–µ–∑—å–µ
                const midY = (fromPt.y + toPt.y) / 2;
                const d = `M ${fromPt.x},${fromPt.y} C ${fromPt.x},${midY} ${toPt.x},${midY} ${toPt.x},${toPt.y}`;
                path.setAttribute('d', d);
                path.classList.add(lineClass);
                svg.appendChild(path);
            });
        }

        // —Ä–∏—Å—É–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏ —Ä–µ—Å–∞–π–∑–µ
        window.addEventListener('load', () => {
            setTimeout(drawConnections, 100); // –Ω–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∞ –∫–∞—Ä—Ç–æ—á–µ–∫
        });
        window.addEventListener('resize', drawConnections);
        document.getElementById('scrollContainer').addEventListener('scroll', drawConnections);
        // —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –ø–æ mutationObserver, –Ω–æ –¥–ª—è –¥–µ–º–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
    })();
</script>
</body>
</html>
